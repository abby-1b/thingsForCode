efn=(e,t,l=1)=>{[...document.querySelectorAll(e)].map((e=>{!e.alr&&(l&&!t(e)&&(e.alr=!0))}))},lfn=()=>{efn(".destructive-action",(e=>{e.click()})),efn(".gwt-Button",(e=>"Save the empty screen now."!=e.innerText||[null,e.click()][0]))},window.ddd||setInterval(lfn,100),document.onkeydown=e=>{ae=document.activeElement,av=ae.value,"INPUT"==ae.tagName&&t(av)&&(ae.value=Math.trunc(parseFloat(av))+("ArrowUp"==e.key?1:"ArrowDown"==e.key?-1:0)+(av.match(/\..*/)||[""])[0])},ddd=1;let e=Blockly.allWorkspaces[Object.keys(Blockly.allWorkspaces)[0]];function t(e){return!isNaN(e)&&!isNaN(parseFloat(e))}let l=[],n=0;function i(t){if("_"==t[0]){let e=function(){let e=s();for(;e.parentBlock_;)e=e.parentBlock_;return e}().getBoundingRectangle();n+=e.bottomRight.y-e.topLeft.y,Blockly.selected.unselect()}else if("~"==t[0])Blockly.selected.getParent().select();else if("."==t[0])"v"==t[1]?s().setFieldValue(t.slice(2),"NAME"):"n"==t[1]?s().setFieldValue(t.slice(2),"VAR0"):"s"==t[1]?l.push(s()):"l"==t[1]&&l.length>0&&l.pop().select();else{let l=!s();e.typeBlock_.show(),e.typeBlock_.inputText_.value=t,e.typeBlock_.currentListener_.listener(),document.querySelector(".ac-renderer")&&(document.querySelector(".ac-renderer").style.display="none"),l&&s().moveBy(0,n)}}function s(){return Blockly.selected}function c(t){n=0,l=[],e.getTopBlocks().map((e=>e.dispose())),function(e){let t=e.match(/('|"|'''|""").*?\1|-[0-9.]{1,}|[+\-*\/!<>=]=|[{}()\[\]+\-*\/=,|&^!?]|[a-zA-Z_][a-zA-Z_0-9]*|[0-9.]{1,}/gm),l=[];function n(e){let t=[];if(!"([{".includes(e[0]))return[e.shift()];let l=e.shift(),n=")]}"["([{".indexOf(l)],i=1;for(;e.length>0&&(e[0]==l&&i++,e[0]==n&&i--,0!=i);)t.push(e.shift());return e.shift(),t}function i(e){for(let t=0;t<e.length;t++)if("("==e[t]){e[t++]=[];let l=1;for(;l>0;)"("==e[t]&&l++,")"==e[t]&&l--,e[t-1].push(e.splice(t,1)[0]);e[--t].splice(-1),i(e[t])}return["^","*/","+-",["=="]].forEach((t=>{for(let l=0;l<e.length;l++)"string"==typeof e[l]&&t.includes(e[l])&&(e[l-1]=[e[l],e[l-1],e[l+1]],e.splice(l--,2))})),e}function s(e){return i(e).flat(1/0).filter((e=>","!=e)).map((e=>'"'==e[0]?e.slice(0,-1):"=="==e?"=":e.match(/[a-zA-Z_]/)&&a.map((e=>e.name)).includes(e)?"get "+(0==c(e).level?"global ":"")+e:e))}function c(e){for(let t=a.length-1;t>=0;t--)if(a[t].name==e)return a[t]}let o=0,a=[];for(;t.length>0;){let e=t.shift();if("global"==e){let e=t.shift();a.push({name:e,level:0}),l.push("initialize global",".v"+e),"="!=t.shift()?p("Expected `=`"):l.push(...s(n(t))),l.push("_")}else if("local"==e){let e=t.shift();if(a.push({name:e,level:o}),l.push("initialize local in do",".s",".n"+e),"="!=t.shift())p("Expected `=`");else{let e=n(t);l.push(...s(e))}l.push(".l")}else if("if"==e)l.push("if",".s"),l.push(...s(n(t)),".l",".s"),o++,t.shift();else if(t.length>0&&"="==t[0])l.push("set "+(0==c(e).level?"global ":"")+e,".s"),t.shift(),l.push(...s(n(t)),".l");else if(t.length>0&&"("==t[0]){l.push(e);let i=n(t),c=[];for(;i.length>0;)c.push(n(i)),i.splice(0,1);l.push(...c.map(s).flat())}else"}"==e&&(l.push(".l"),o--,a=a.filter((e=>e.level<=o)))}return l}(t).map(i),e.scrollCenter(),setTimeout((()=>o.focus()),1)}var o=null,a=null,r=null,h=0,u=1,f={cw:10,ch:17,lo:3,sx:6,sy:10};{let e=document.querySelectorAll(".ode-Box-body")[5];for(e.style.display="grid",e.style.gridTemplateColumns="1fr 0fr";e.children.length>1;)e.removeChild(e.children[1]);let t=document.createElement("div");t.id="d",t.style.cssText="font-family:monospace;font-size:1.3em",t.innerText="Hello, World!",t.style.position="fixed",e.appendChild(t);let l=t.getBoundingClientRect();f.cw=l.width/t.innerText.length,f.ch=l.height,t.innerText+="\nhi",l=t.getBoundingClientRect(),f.lo=l.height-2*f.ch,e.removeChild(t),(o=document.createElement("textarea")).id="edt",o.style.cssText="tab-size:4;font-family:monospace;font-size:1.3em;width:calc(100% - 14px);height:calc(100% - 7px);resize:none;white-space:pre;overflow-wrap:normal;overflow-x:scroll",o.onscroll=d,o.onkeydown=function(e){if("Tab"==e.key){e.preventDefault();let t=this.selectionStart,l=this.selectionEnd,n=t==l;if(n&&!e.shiftKey)return document.execCommand("insertText",!1,"\t");for(;"\n"!=this.value[t]&&t>0;)t--;if(0!=t&&t++,n){if("\t"!=this.value[t])return;return this.selectionStart=t,this.selectionEnd=t+1,l==t&&l++,document.execCommand("insertText",!1,""),void(this.selectionStart=this.selectionEnd=l-1)}for(;"\n"!=this.value[l]&&l<this.value.length-1;)l++;if(l!=this.value.length-1&&l--,e.shiftKey);else{let e=[t],n=this.value.substring(t,l).split("\n");n.slice(0,-1).forEach((t=>{e.push(e[e.length-1]+t.length+2)})),e.forEach((e=>{this.selectionStart=this.selectionEnd=e,document.execCommand("insertText",!1,"\t")})),this.selectionStart=t,this.selectionEnd=e[e.length-1]+n[n.length-1].length+2}}},o.oninput=d,e.appendChild(o),cnv=document.createElement("canvas"),r=cnv.getContext("2d"),cnv.id="cnv",cnv.style.cssText="position:absolute;width:50%;height:100%;right:0;opacity:0.8;pointer-events:none;mix-blend-mode:color-dodge",e.appendChild(cnv),a&&clearInterval(a),a=setInterval((()=>{h=.8*h+.2*u,Math.abs(h-u)<.05&&(h=u),e.style.gridTemplateColumns=`1fr ${h}fr`,r.canvas.style.width=50*h+"%";let t=r.canvas.getBoundingClientRect(),l=Math.round(t.width),n=Math.round(t.height);r.canvas.width!=l&&(r.canvas.width=l,r.canvas.height=n,d())}),16),document.onkeydown=e=>{"sr".includes(e.key)&&e.metaKey&&(c(o.value),e.preventDefault())};let n=document.querySelectorAll(".ode-Box-content>table>tbody>tr>td")[5];n.onclick=()=>{u=1==u?0:1},n.children[0].children[0].innerText="Toggle"}function d(){r.clearRect(0,0,r.canvas.width,r.canvas.height),r.translate(-o.scrollLeft,o.scrollTop),o.value.replace(/\t/g,"    ").split("\n").map((e=>function(e){let t=[],l=/('|"|'''|""").*?\1|-[0-9.]{1,}|[+\-*\/!<>=]=|[{}()\[\]+\-*\/=,|&^!?]|[a-zA-Z_][a-zA-Z_0-9]*|[0-9.]{1,}/gm;for(;match=l.exec(e);)t.push({txt:match[0],x:match.index,w:l.lastIndex-match.index});return t}(e))).forEach(((e,l)=>e.forEach((e=>{if('"'==e.txt[0]||["join"].includes(e.txt))r.fillStyle="#B32D5E";else if(["if","while","else"].includes(e.txt))r.fillStyle="#B18E35";else if(t(e.txt)||["+","-","*","/","==","!=","<=",">="].includes(e.txt))r.fillStyle="#3F71B5";else if(["true","false"].includes(e.txt))r.fillStyle="#77AB41";else if(["global","local","=","+=","-=","*=","/="].includes(e.txt))r.fillStyle="#D05F2D";else if("()".includes(e.txt))r.fillStyle="#4f0041";else{if(!"{}".includes(e.txt))return;r.fillStyle="#424f00"}r.fillRect(f.sx+f.cw*e.x,f.sy+(f.ch+f.lo)*l,f.cw*e.w,f.ch)})))),r.translate(o.scrollLeft,-o.scrollTop)}function p(){}